CREATE TABLE detail_transaksi (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_transaksi INT NOT NULL,
    id_paket INT NOT NULL,
    qty INT NOT NULL,
    keterangan TEXT
);

CREATE TABLE member (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nama VARCHAR(100) NOT NULL,
    alamat TEXT,
    jenis_kelamin ENUM('L', 'P'),
    tip DECIMAL(10, 2)
);

CREATE TABLE outlet (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nama VARCHAR(100) NOT NULL,
    alamat TEXT,
    tlp VARCHAR(20)
);

CREATE TABLE paket (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_outlet INT NOT NULL,
    jenis VARCHAR(50),
    nama_paket VARCHAR(100) NOT NULL,
    harga DECIMAL(10, 2)
);

CREATE TABLE transaksi (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_outlet INT NOT NULL,
    kode_invoice VARCHAR(50) NOT NULL,
    id_member INT,
    tgt DATE,
    batas_waktu DATE,
    tgl_bayar DATE,
    biaya_tambahan DECIMAL(10, 2),
    diskon DECIMAL(5, 2),
    pajak DECIMAL(5, 2),
    status ENUM('pending', 'complete', 'canceled'),
    dibayar BOOLEAN,
    id_user INT NOT NULL
);

CREATE TABLE user (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nama VARCHAR(100) NOT NULL,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    id_outlet INT NOT NULL,
    role ENUM('admin', 'kasir', 'owner')
);